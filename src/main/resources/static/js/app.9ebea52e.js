(function(t){function e(e){for(var a,o,s=e[0],c=e[1],l=e[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"068f":function(t,e,n){},"0de4":function(t,e,n){},1553:function(t,e,n){},1768:function(t,e,n){"use strict";n("caf4")},"46e5":function(t,e,n){"use strict";n("0de4")},"515f":function(t,e,n){"use strict";n("068f")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("0cdd");var a=n("2b0e"),i=n("5f5b"),r=n("b1e0");n("ab8b"),n("2dd8");a["default"].use(i["a"]),a["default"].use(r["a"]);var o=n("ecee"),s=n("c074"),c=n("b702"),l=n("ad3d");o["c"].add(s["a"],c["b"],c["a"]),a["default"].component("font-awesome-icon",l["a"]);n("b64b"),n("159b");var d=n("7bb1"),u=n("e48c"),p=n("4c93");Object.keys(p).forEach((function(t){Object(d["c"])(t,p[t])})),Object(d["d"])("ko",u),a["default"].component("ValidationObserver",d["a"]),a["default"].component("ValidationProvider",d["b"]);var m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),n("router-view")],1)},b=[],f=(n("034f"),n("2877")),v={},g=Object(f["a"])(v,m,b,!1,null,null,null),h=g.exports,w=n("8c4f"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navBar")],1)},C=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("b-navbar-brand",{attrs:{href:"#"}},[t._v("NavBar")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},t._l(t.menus,(function(e){return n("b-navbar-nav",{key:e.id},[n("b-nav-item",{attrs:{to:{name:e.name}}},[t._v(" "+t._s(e.title)+" ")])],1)})),1)],1)],1)},x=[],y={name:"NavBar",data:function(){return{menus:[]}},created:function(){this.menus.push({title:"Home",name:"Index"},{title:"하루공부",name:"BoardList"},{title:"공지사항",name:"NoticeList"})},methods:{}},L=y,P=Object(f["a"])(L,k,x,!1,null,"36f758f2",null),V=P.exports,B={name:"Index",components:{navBar:V},data:function(){return{}},created:function(){},methods:{}},E=B,S=Object(f["a"])(E,_,C,!1,null,"3f75ee94",null),N=S.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"post"},[n("navBar"),t.boardItems?n("b-container",{staticClass:"content-container"},[n("h3",{staticClass:"text-center"},[t._v("하루 공부")]),n("b-table",{attrs:{hover:"",fields:t.boardFields,items:t.boardItems},scopedSlots:t._u([{key:"cell()",fn:function(e){return["title"===e.field.key?n("div",{staticClass:"board-title"},[n("router-link",{staticClass:"inner-title",attrs:{to:{name:"BoardView",params:{bid:e.item.bid}}}},[t._v(" "+t._s(e.value)+" ")]),n("div",{staticClass:"inner-cnt-comment"},[t._v(" ["+t._s(e.item.cntComment)+"] ")])],1):n("span",[t._v(" "+t._s(e.value)+" ")])]}}],null,!1,200315549)}),n("nav",{staticClass:"board-nav",attrs:{"aria-label":"Page navigation example"}},[n("div"),n("ul",{staticClass:"pagination"},[n("li",{staticClass:"page-item"},[1!==t.pagination.curRange?n("span",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:function(e){t.setBoardList((t.pagination.curRange-2)*t.pagination.rangeSize+1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])]):t._e()]),n("li",{staticClass:"page-item"},[t.pagination.prePage?n("span",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:function(e){return t.setBoardList(t.pagination.prePage)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("<")])]):t._e()]),t._l(t.pagination.endPage,(function(e,a){return e>=t.pagination.startPage?n("li",{key:a,staticClass:"page-item",attrs:{id:"page-item["+a+"]"}},[n("span",{staticClass:"page-link",on:{click:function(n){return t.setBoardList(e)}}},[t._v(" "+t._s(e)+" ")])]):t._e()})),n("li",{staticClass:"page-item"},[t.pagination.curPage!==t.pagination.pageCnt?n("span",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:function(e){return t.setBoardList(t.pagination.nextPage)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v(">")])]):t._e()]),n("li",{staticClass:"page-item"},[t.pagination.curRange!==t.pagination.rangeCnt?n("span",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:function(e){return t.setBoardList(t.pagination.curRange*t.pagination.rangeSize+1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])]):t._e()])],2),n("router-link",{attrs:{to:{name:"BoardWrite"}}},[n("b-button",{attrs:{variant:"secondary"}},[t._v("글쓰기")])],1)],1)],1):t._e()],1),t.isLoading?n("spinner"):t._e()],1)},z=[],j=(n("a630"),n("3ca3"),n("96cf"),n("1da1")),R=n("bc3a"),M=n.n(R),$=function(t,e){var n=e._c;return n("div",{staticClass:"spinner"},[n("b-container",[n("b-spinner",{attrs:{variant:"info",label:"Spinning"}})],1)],1)},F=[],I={name:"Spinner",functional:!0},D=I,A=(n("a364"),Object(f["a"])(D,$,F,!0,null,"20dc20b6",null)),T=A.exports;function U(t){return t.getFullYear()+"/"+t.getMonth()+"1/"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}var H={name:"BoardList",components:{navBar:V,spinner:T},data:function(){return{isLoading:!1,error:null,boardItems:[],boardFields:void 0,pagination:{curPage:1,curRange:void 0,pageSize:void 0,startPage:void 0,endPage:void 0,prePage:void 0,nextPage:void 0,rangeSize:void 0,listCnt:void 0,rangeCnt:void 0,pageCnt:void 0,startIndex:void 0}}},created:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.boardFields=[{key:"index",label:"번호",class:"text-center",thStyle:{width:"10%",textAlign:"center"}},{key:"title",label:"제목",thStyle:{width:"40%",textAlign:"center"}},{key:"writer",label:"작성자",class:"text-center",thStyle:{width:"15%",textAlign:"center"}},{key:"date",label:"날짜",thStyle:{width:"17%",textAlign:"center"},formatter:function(t){return U(new Date(t))}},{key:"views",label:"조회",class:"text-center",thStyle:{width:"9%",textAlign:"center"}},{key:"thumbUp",label:"엄지척",class:"text-center",thStyle:{width:"9%",textAlign:"center"}}],e.next=3,t.setBoardList(1);case 3:case"end":return e.stop()}}),e)})))()},methods:{setBoardList:function(t){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.boardItems=[],e.pagination.curPage=t,n.prev=2,e.isLoading=!0,n.next=6,e.setBoardPaging();case 6:return n.next=8,M.a.get("/api/board/getBoardList",{params:{curPage:t}});case 8:a=n.sent,a.data.forEach((function(t){return e.boardItems.push({index:e.pagination.listCnt-e.pagination.startIndex-t.rowNum+1,bid:t.bid,writer:t.writer,title:t.title,cntComment:t.cntComment,views:t.views,thumbUp:t.thumbUp,date:null==t.modDate?t.regDate:t.modDate})})),n.next=15;break;case 12:throw n.prev=12,n.t0=n["catch"](2),new Error(n.t0);case 15:return n.prev=15,e.isLoading=!1,Array.from(document.getElementsByClassName("page-item active")).forEach((function(t){t.classList.remove("active")})),i=document.getElementById("page-item["+(t-1)+"]"),i.classList.add("active"),n.finish(15);case 21:case"end":return n.stop()}}),n,null,[[2,12,15,21]])})))()},setBoardPaging:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,M.a.get("/api/board/getBoardPaging",{params:{curPage:t.pagination.curPage}});case 4:n=e.sent,t.pagination=n.data,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),new Error(e.t0);case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}}},W=H,q=(n("1768"),Object(f["a"])(W,O,z,!1,null,"eb06031c",null)),J=q.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"post"},[n("navBar"),t.boardView?n("b-container",{staticClass:"content-container"},[n("div",{staticClass:"board"},[n("div",{staticClass:"board-title"},[n("h2",[t._v(t._s(t.boardView.title))])]),n("div",{staticClass:"board-info"},[n("b-avatar",{attrs:{src:"https://doozi316.github.io/assets/images/me.png",size:"4rem"}}),n("div",{staticClass:"board-info-text"},[n("h5",[t._v(t._s(t.boardView.writer))]),n("div",{staticClass:"info-date-view"},[n("span",{staticClass:"board-date"},[t._v(" "+t._s(t.boardView.modDate?t.dateFormatter(t.boardView.modDate):t.dateFormatter(t.boardView.regDate))+" ")]),n("span",{staticClass:"board-count"},[t._v(" 조회 "+t._s(t.boardView.views)+" ")])])])],1),n("hr"),n("div",{staticClass:"board-content",domProps:{innerHTML:t._s(t.boardView.content)}}),n("div",{staticClass:"board-icon"},[n("font-awesome-icon",{staticClass:"icon-thumb",attrs:{icon:[t.thumbIcon,"thumbs-up"]},on:{click:t.clickThumb}}),n("span",[t._v(t._s(t.boardView.thumbUp))]),n("font-awesome-icon",{attrs:{icon:["far","comment-dots"]}}),n("span",[t._v(t._s(t.cntComment))])],1),n("hr"),n("div",{staticClass:"board-comment"},[n("h3",[t._v("댓글")]),n("ul",{staticClass:"comment-ul"},t._l(t.commentList,(function(e,a){return n("li",{key:a,staticClass:"comment-li"},[n("b-avatar",{attrs:{src:"https://doozi316.github.io/assets/images/me.png",size:"3rem"}}),n("div",{staticClass:"comment-item"},[n("div",{staticClass:"comment-item-writer"},[n("span",[t._v(t._s(e.writer))])]),e.showEditor?t._e():n("div",{staticClass:"comment-area"},[n("span",{staticClass:"comment-item-content",domProps:{innerHTML:t._s(e.content)}}),n("div",{staticClass:"comment-item-info"},[t._v(" "+t._s(t.dateFormatter(e.regDate))+" "),n("span",{staticClass:"comment-item-info-modify"},[t._v("답글쓰기")]),n("div",{staticClass:"comment-item-btn"},[n("span",{staticClass:"comment-item-btn-modify",on:{click:function(e){return t.openEditor(a)}}},[t._v("수정")]),n("span",{staticClass:"comment-item-btn-delete",on:{click:function(n){return t.deleteComment(e.cid)}}},[t._v("삭제")])])])]),e.showEditor?n("b-form",{staticClass:"form-modify-comment"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modifyComment.content,expression:"modifyComment.content"}],staticClass:"comment-modify-content",attrs:{placeholder:"댓글을 입력하세요"},domProps:{value:t.modifyComment.content},on:{input:function(e){e.target.composing||t.$set(t.modifyComment,"content",e.target.value)}}}),n("div",{staticClass:"text-right"},[n("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:function(n){return t.onCommentSubmit(e.cid)}}},[t._v(" 수정 ")]),n("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:function(e){return t.closeEditor(a)}}},[t._v(" 취소 ")])],1)]):t._e()],1)],1)})),0),n("b-form",{staticClass:"form-comment"},[n("span",[t._v("신윤정")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment.content,expression:"comment.content"}],staticClass:"comment-content",attrs:{placeholder:"댓글을 입력하세요",rows:"1"},domProps:{value:t.comment.content},on:{input:function(e){e.target.composing||t.$set(t.comment,"content",e.target.value)}}}),n("div",{staticClass:"text-right"},[n("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:function(e){return t.onCommentSubmit(0)}}},[t._v(" 등록 ")])],1)])],1)]),n("div",{staticClass:"board-btn"},[n("b-row",{attrs:{"align-h":"between"}},[n("b-col",{staticClass:"btn-row"},[n("router-link",{attrs:{to:{name:"BoardList"}}},[n("b-button",{attrs:{variant:"secondary",size:"sm"}},[t._v("목록")])],1)],1),n("b-col",{staticClass:"btn-row text-right"},[n("router-link",{attrs:{to:{name:"BoardModify",params:{bid:t.bid}}}},[n("b-button",{attrs:{variant:"info",size:"sm"}},[t._v("수정")])],1),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.showModal("delete-check-modal")}}},[t._v(" 삭제 ")])],1)],1)],1),n("b-modal",{attrs:{id:"delete-check-modal",title:"삭제 확인","button-size":"sm","header-text-variant":"white","header-bg-variant":"primary","hide-header-close":""},on:{ok:function(e){return t.deleteBoard()}}},[n("div",[t._v("삭제하시겠습니까?")])])],1):t._e()],1),t.isLoading?n("spinner"):t._e()],1)},K=[],Y=(n("a9e3"),n("ac1f"),n("5319"),1),Q={name:"boardView",components:{navBar:V,spinner:T},data:function(){return{isLoading:!1,boardView:[],cntComment:0,isModifyComment:!1,commentList:[],thumbIcon:"far",comment:{content:void 0},modifyComment:{content:void 0}}},props:{bid:{type:[String,Number]}},created:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.increaseBoardViews();case 2:return e.next=4,t.setBoardInfo();case 4:return e.next=6,t.setCommentList();case 6:return e.next=8,t.setCntComment();case 8:case"end":return e.stop()}}),e)})))()},methods:{dateFormatter:function(t){if(t)return U(new Date(t))},showModal:function(t){this.$bvModal.show(t)},clickThumb:function(){this.thumbIcon="fas"},increaseBoardViews:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("api/board/increaseBoardViews",{params:{bid:t.bid}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new Error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},setBoardInfo:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,M.a.get("/api/board/getBoardInfo",{params:{bid:t.bid}});case 4:n=e.sent,t.boardView=n.data,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),new Error(e.t0);case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()},deleteBoard:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,M.a.delete("/api/board/deleteBoard",{params:{bid:t.bid}});case 4:return e.next=6,t.$router.push({name:"BoardList"});case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](1),Error(e.t0.message);case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()},setCommentList:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.commentList=[],e.next=5,M.a.get("/api/comments/getCommentList",{params:{gubun:Y,fkId:t.bid}});case 5:n=e.sent,n.data.forEach((function(e){return t.commentList.push({cid:e.cid,fkId:e.fkId,writer:e.writer,content:e.content.replace(/(?:\r\n|\r|\n)/g,"<br />"),regDate:e.regDate})})),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),new Error(e.t0);case 12:return e.prev=12,t.isLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()},setCntComment:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,M.a.get("/api/comments/getCntComment",{params:{gubun:Y,fkId:t.bid}});case 4:n=e.sent,t.cntComment=n.data,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),new Error(e.t0);case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()},deleteComment:function(t){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isLoading=!0,n.prev=1,n.next=4,M.a.delete("/api/comments/deleteComment",{params:{cid:t,fkId:e.bid}});case 4:return n.next=6,e.setCommentList();case 6:return n.next=8,e.setCntComment();case 8:n.next=13;break;case 10:throw n.prev=10,n.t0=n["catch"](1),Error(n.t0.message);case 13:return n.prev=13,e.isLoading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,10,13,16]])})))()},onCommentSubmit:function(t){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}if(""!==e.modifyComment.content){n.next=4;break}return alert("댓글 내용을 입력해주세요."),n.abrupt("return",!1);case 4:e.isModifyComment=!0,n.next=10;break;case 7:if(""!==e.comment.content&&void 0!==e.comment.content){n.next=10;break}return alert("댓글 내용을 입력해주세요."),n.abrupt("return",!1);case 10:return e.isLoading=!0,n.prev=11,a=e.isModifyComment?"/api/comments/modifyComment":"/api/comments/addComment",i={gubun:Y,fkId:e.bid,writer:"신윤정"},i=e.isModifyComment?Object.assign(i,{cid:t,content:e.modifyComment.content}):Object.assign(i,{level:0,parent_id:0,content:e.comment.content}),n.next=17,M.a.post(a,i);case 17:return n.next=19,e.setCommentList();case 19:return n.next=21,e.setCntComment();case 21:n.next=26;break;case 23:throw n.prev=23,n.t0=n["catch"](11),Error(n.t0.message);case 26:return n.prev=26,e.comment.content=null,e.isLoading=!1,e.isModifyComment=!1,n.finish(26);case 31:case"end":return n.stop()}}),n,null,[[11,23,26,31]])})))()},openEditor:function(t){this.$set(this.commentList[t],"showEditor",!0),this.modifyComment.content=this.commentList[t].content},closeEditor:function(t){this.$set(this.commentList[t],"showEditor",!1)}}},X=Q,Z=(n("46e5"),Object(f["a"])(X,G,K,!1,null,"5263d114",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navBar"),n("b-container",{staticClass:"content-container"},[n("h1",[t._v("하루공부 글쓰기")]),n("hr"),n("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),a(t.onSubmit)}}},[n("validation-provider",{attrs:{name:"작성자",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-form-group",{attrs:{id:"board-writer",label:"작성자 : ","label-for":"input-writer"}},[n("b-form-input",{attrs:{id:"board-writer",state:t.getValidationState(e),placeholder:"이름을 입력해 주세요."},model:{value:t.board.writer,callback:function(e){t.$set(t.board,"writer",e)},expression:"board.writer"}},[t._v(t._s(t.board.writer)+" ")]),n("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)}),n("validation-provider",{attrs:{name:"제목",rules:{required:!0,max:25}},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-form-group",{attrs:{id:"board-title",label:"제목 : ","label-for":"input-title"}},[n("b-form-input",{attrs:{id:"board-title",name:"title",placeholder:"제목을 입력해 주세요.",state:t.getValidationState(e)},model:{value:t.board.title,callback:function(e){t.$set(t.board,"title",e)},expression:"board.title"}},[t._v(t._s(t.board.title)+" ")]),n("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)}),n("b-form-group",{attrs:{id:"board-content",label:"내용 : ","label-for":"input-content"}},[t.isContentValid?t._e():n("span",{staticClass:"content-feedback"},[t._v(" 내용 항목은 필수 정보입니다 ")]),n("tiptapEditor",{ref:"tiptapEditor",class:t.isContentValid?"tiptap-editor":"tiptap-editor-validation",attrs:{placeholder:"내용을 입력하세요."},model:{value:t.board.content,callback:function(e){t.$set(t.board,"content",e)},expression:"board.content"}})],1),n("b-form-file",{attrs:{multiple:""},scopedSlots:t._u([{key:"file-name",fn:function(e){var a=e.names;return[n("b-badge",{attrs:{variant:"dark"}},[t._v(t._s(a[0]))]),a.length>1?n("b-badge",{staticClass:"ml-1",attrs:{variant:"dark"}},[t._v(" + "+t._s(a.length-1)+" More files ")]):t._e()]}}],null,!0)}),n("div",{staticClass:"board-btn text-right"},[n("b-button",{attrs:{variant:"primary",size:"sm",type:"submit"}},[t._v(" 등록 ")])],1)],1)]}}])})],1),t.isUploading?n("b-button",{staticClass:"board-uploading",attrs:{variant:"primary",disabled:""}},[n("b-spinner",{attrs:{large:""}}),t._v(" 등록 중입니다. ")],1):t._e(),t.isLoading?n("spinner"):t._e()],1)},nt=[],at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor"},[n("editor-menu-bar",{staticClass:"menubar",attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,i=e.isActive;return[n("b-col",{staticClass:"text-center"},[n("b-button-group",[n("b-button",{staticClass:"menubar__button",attrs:{type:"button",variant:t.getVariant(i.bold()),size:"sm"},on:{click:a.bold}},[n("b-icon",{attrs:{icon:"type-bold","aria-hidden":"true"}})],1),n("b-button",{staticClass:"menubar__button",attrs:{type:"button",variant:t.getVariant(i.italic()),size:"sm"},on:{click:a.italic}},[n("b-icon",{attrs:{icon:"type-italic","aria-hidden":"true"}})],1),n("b-button",{staticClass:"menubar__button",attrs:{type:"button",variant:t.getVariant(i.strike()),size:"sm"},on:{click:a.strike}},[n("b-icon",{attrs:{icon:"type-strikethrough","aria-hidden":"true"}})],1),n("b-button",{staticClass:"menubar__button",attrs:{type:"button",variant:t.getVariant(i.underline()),size:"sm"},on:{click:a.underline}},[n("b-icon",{attrs:{icon:"type-underline","aria-hidden":"true"}})],1),n("b-button",{staticClass:"menubar__button",attrs:{type:"button",variant:t.getVariant(i.heading({level:1})),size:"sm"},on:{click:function(t){return a.heading({level:1})}}},[n("b-icon",{attrs:{icon:"type-h1","aria-hidden":"true"}})],1),n("b-button",{staticClass:"menubar__button",attrs:{type:"button",variant:t.getVariant(i.heading({level:2})),size:"sm"},on:{click:function(t){return a.heading({level:2})}}},[n("b-icon",{attrs:{icon:"type-h2","aria-hidden":"true"}})],1),n("b-button",{staticClass:"menubar__button",attrs:{type:"button",variant:t.getVariant(i.heading({level:3})),size:"sm"},on:{click:function(t){return a.heading({level:3})}}},[n("b-icon",{attrs:{icon:"type-h3","aria-hidden":"true"}})],1),n("b-button",{staticClass:"menubar__button",attrs:{type:"button",variant:t.getVariant(i.bullet_list()),size:"sm"},on:{click:a.bullet_list}},[t._v(" ul ")]),n("b-button",{staticClass:"menubar__button",attrs:{variant:t.getVariant(i.ordered_list()),type:"button",size:"sm"},on:{click:a.ordered_list}},[t._v(" ol ")]),n("b-button",{staticClass:"menubar__button",attrs:{variant:t.getVariant(i.code_block()),type:"button",size:"sm"},on:{click:a.code_block}},[n("b-icon",{attrs:{icon:"code","aria-hidden":"true"}})],1),n("b-button",{staticClass:"menubar__button",attrs:{variant:"white",type:"button",size:"sm"},on:{click:a.horizontal_rule}},[n("b-icon",{attrs:{icon:"hr","aria-hidden":"true"}})],1),n("b-button",{staticClass:"menubar__button",attrs:{variant:"white",size:"sm"},on:{click:function(e){return t.showImageModal(a.image)}}},[n("b-icon",{attrs:{icon:"card-image","aria-hidden":"true"}})],1)],1)],1)]}}])}),n("editor-content",{staticClass:"editor__content",attrs:{editor:t.editor}})],1)},it=[],rt=n("cd42"),ot=n("f23d"),st={components:{EditorContent:rt["b"],EditorMenuBar:rt["c"]},data:function(){return{content:void 0,editor:void 0}},mounted:function(){var t=this;this.editor=new rt["a"]({extensions:[new ot["f"],new ot["g"]({levels:[1,2,3]}),new ot["a"],new ot["c"],new ot["e"],new ot["i"],new ot["m"],new ot["n"],new ot["p"],new ot["q"],new ot["l"],new ot["b"],new ot["d"],new ot["k"],new ot["o"],new ot["r"],new ot["h"],new ot["j"]],onUpdate:function(e){var n=e.getHTML;t.content=n()}})},beforeDestroy:function(){this.editor.destroy()},methods:{getVariant:function(t){return t?"dark":"white"},setContent:function(t){this.editor.setContent(t)}}},ct=st,lt=(n("dc84"),Object(f["a"])(ct,at,it,!1,null,null,null)),dt=lt.exports,ut={name:"BoardWrite",components:{navBar:V,spinner:T,tiptapEditor:dt},props:{bid:{type:[String,Number]}},data:function(){return{isModify:!1,isLoading:!1,isUploading:!1,isContentValid:!1,board:{writer:null,title:null,content:null}}},mounted:function(){var t=this;this.$watch((function(){if(void 0===t.$refs.tiptapEditor.content)t.isContentValid=!0;else{var e=t.$refs.tiptapEditor.content.replace(/<(\/?)p>/gi,"").replace(/<(\/?)h1>/gi,"").replace(/<(\/?)h2>/gi,"").replace(/<(\/?)h3>/gi,"").replace(/<(\/?)pre>/gi,"").replace(/<(\/?)code>/gi,"");t.isContentValid=0!==e.length}})),this.bid&&(this.isModify=!0,this.getBoardView())},methods:{getValidationState:function(t){var e=t.dirty,n=t.validated,a=t.valid,i=void 0===a?null:a;return e||n?i:null},getBoardView:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,M.a.get("/api/board/getBoardInfo",{params:{bid:t.bid}});case 4:n=e.sent,t.board=n.data,t.$refs.tiptapEditor.setContent(t.board.content),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),new Error(e.t0);case 12:return e.prev=12,t.isLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()},onSubmit:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isContentValid){e.next=6;break}if(void 0!==t.$refs.tiptapEditor.content){e.next=4;break}return t.isContentValid=!1,e.abrupt("return");case 4:e.next=7;break;case 6:return e.abrupt("return");case 7:return t.isUploading=!0,e.prev=8,n=t.isModify?"/api/board/modifyBoard":"/api/board/addBoard",a={writer:t.board.writer,title:t.board.title,content:t.$refs.tiptapEditor.content},t.isModify&&(a=Object.assign(a,{bid:t.bid})),e.next=14,M.a.post(n,a);case 14:return e.next=16,t.$router.push({name:"BoardList"});case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e["catch"](8),e.abrupt("return",alert("등록에 실패했습니다."));case 21:return e.prev=21,t.isUploading=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[8,18,21,24]])})))()}}},pt=ut,mt=(n("515f"),Object(f["a"])(pt,et,nt,!1,null,"8f19fe20",null)),bt=mt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navBar"),n("b-container",{staticClass:"content-container"},[n("b-row",[n("b-col",{staticClass:"notice-title text-center"},[n("span",{staticClass:"notice-title-label"},[t._v("공지사항")])])],1),n("b-table",{attrs:{fields:t.noticeFields,items:t.noticeItems,"head-variant":"light"},scopedSlots:t._u([{key:"cell()",fn:function(e){return["index"===e.field.key?n("div",[t._v(" "+t._s(t.noticeCnt-(e.index+t.pagination.startIndex))+" ")]):t._e(),"title"===e.field.key?n("router-link",{attrs:{to:{name:"NoticeView",params:{nid:e.item.nid}}}},[n("div",{staticClass:"table-cell-value"},[t._v(" "+t._s(e.value)+" ")])]):n("div",[t._v(" "+t._s(e.value)+" ")])]}}])}),n("b-row",[n("b-col",{staticClass:"btn-row text-right"},[n("router-link",{attrs:{to:{name:"NoticeWrite"}}},[n("b-button",{attrs:{variant:"info",size:"sm"}},[t._v("글쓰기")])],1)],1)],1),n("nav",[n("ul",{staticClass:"pagination"},[n("li",{staticClass:"page-item",class:{disabled:1===t.pagination.curPage}},[n("span",{staticClass:"page-link",on:{click:function(e){return t.setNoticeListAndPaging(1)}}},[t._v(" « ")])]),n("li",{staticClass:"page-item",class:{disabled:1===t.pagination.curPage}},[n("span",{staticClass:"page-link",on:{click:function(e){return t.setNoticeListAndPaging(t.pagination.prePage)}}},[t._v(" < ")])]),t._l(t.pagination.visiblePages,(function(e){return n("li",{key:e,staticClass:"page-item"},[n("span",{staticClass:"page-link",class:{clicked:e===t.pagination.curPage},on:{click:function(n){return t.setNoticeListAndPaging(e)}}},[t._v(" "+t._s(e)+" ")])])})),n("li",{staticClass:"page-item",class:{disabled:t.pagination.curPage===t.pagination.pageCnt}},[n("span",{staticClass:"page-link",on:{click:function(e){return t.setNoticeListAndPaging(t.pagination.nextPage)}}},[t._v(" > ")])]),n("li",{staticClass:"page-item",class:{disabled:t.pagination.curPage===t.pagination.pageCnt}},[n("span",{staticClass:"page-link",on:{click:function(e){return t.setNoticeListAndPaging(t.pagination.pageCnt)}}},[t._v(" » ")])])],2)])],1),t.isLoading?n("spinner"):t._e()],1)},vt=[],gt={name:"NoticeList",components:{spinner:T,navBar:V},data:function(){return{isLoading:!1,noticeFields:void 0,noticeItems:void 0,noticeCnt:void 0,pagination:{curPage:1,curRange:void 0,pageSize:void 0,startPage:void 0,endPage:void 0,prePage:void 0,nextPage:void 0,rangeSize:void 0,listCnt:void 0,rangeCnt:void 0,pageCnt:void 0,startIndex:void 0,visiblePages:void 0}}},created:function(){this.noticeFields=[{key:"index",label:"번호",thStyle:{width:"110px"}},{key:"title",label:"제목"},{key:"writer",label:"작성자",thStyle:{width:"110px"}},{key:"regDate",label:"등록일자",formatter:function(t){return U(new Date(t))},thStyle:{width:"200px"}}]},mounted:function(){this.setNoticeListAndPaging()},methods:{getVisiblePages:function(){this.pagination.visiblePages=[];for(var t=this.pagination.startPage;t<=this.pagination.endPage;t++)this.pagination.visiblePages.push(t)},setNoticeListAndPaging:function(t){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isLoading=!0,n.prev=1,e.pagination.curPage=t||e.pagination.curPage,n.next=5,M.a.get("/api/notice/getNoticeList",{params:{curPage:e.pagination.curPage}});case 5:a=n.sent,e.noticeCnt=a.data.noticeCnt,e.noticeItems=a.data.noticeList,e.pagination=a.data.pagination,e.getVisiblePages(),n.next=15;break;case 12:throw n.prev=12,n.t0=n["catch"](1),new Error(n.t0);case 15:return n.prev=15,e.isLoading=!1,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,12,15,18]])})))()}}},ht=gt,wt=(n("8b14"),Object(f["a"])(ht,ft,vt,!1,null,"7f3b734a",null)),_t=wt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navBar"),t.noticeView?n("b-container",{staticClass:"content-container"},[n("b-row",[n("b-col",{staticClass:"notice-title text-center"},[n("span",{staticClass:"notice-title-label"},[t._v("공지사항")])])],1),n("b-row",[n("b-col",{staticClass:"col-label col-2 border-top"},[t._v("등록일")]),n("b-col",{staticClass:"col border-top"},[t._v(t._s(t.dateFormatter(t.noticeView.regDate)))]),n("b-col",{staticClass:"col-label col-2 border-top"},[t._v("조회수")]),n("b-col",{staticClass:"col border-top"},[t._v(t._s(t.noticeView.views))])],1),n("b-row",[n("b-col",{staticClass:"col-label col-2 border-top"},[t._v("작성자")]),n("b-col",{staticClass:"col border-top"},[t._v(t._s(t.noticeView.writer))])],1),n("b-row",[n("b-col",{staticClass:"col-label col-2 border-top"},[t._v("제목")]),n("b-col",{staticClass:"col border-top"},[t._v(t._s(t.noticeView.title))])],1),n("b-row",[n("b-col",{staticClass:"col-label col-2 border-top border-bottom"},[t._v("본문")]),n("b-col",{staticClass:"col border-top border-bottom"},[n("div",{domProps:{innerHTML:t._s(t.noticeView.content)}})])],1),0!==t.fileList.length?n("b-row",[n("b-col",{staticClass:"col-label col-2 border-top border-bottom"},[t._v("첨부파일")]),n("b-col",{staticClass:"col border-top border-bottom"},t._l(t.fileList,(function(e,a){return n("div",{key:a,staticClass:"notice-file-name",on:{click:function(n){return t.fileDownload(e.fid,e.fileName)}}},[t._v(" "+t._s(e.fileName)+"("+t._s(t.getFileSize(e.fileSize))+") ")])})),0)],1):t._e(),n("b-row",{attrs:{"align-h":"between"}},[n("b-col",{staticClass:"btn-row"},[n("router-link",{attrs:{to:{name:"NoticeList"}}},[n("b-button",{attrs:{variant:"secondary",size:"sm"}},[t._v("목록")])],1)],1),n("b-col",{staticClass:"btn-row text-right"},[n("b-button",{attrs:{variant:"info",size:"sm"},on:{click:function(e){return t.editNotice()}}},[t._v(" 수정 ")]),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.showModal("delete-check-modal")}}},[t._v(" 삭제 ")])],1)],1),n("b-modal",{attrs:{id:"delete-check-modal",title:"삭제 확인","button-size":"sm","header-text-variant":"white","header-bg-variant":"primary","hide-header-close":""},on:{ok:function(e){return t.deleteNotice()}}},[n("div",[t._v("정말 삭제하시겠습니까?")])])],1):t._e(),t.isLoading?n("spinner"):t._e()],1)},kt=[];n("d3b7"),n("ddb0"),n("2b3d"),n("b680");function xt(t){var e=["B","KB","MB","GB","TB"],n=0;function a(t){return t<1024?t.toFixed(2)+e[n]:(n++,a(t/1024))}return a(parseInt(t))}var yt="notice",Lt={name:"NoticeView",components:{spinner:T,navBar:V},data:function(){return{isLoading:!1,isOwner:!1,noticeView:[],fileList:[]}},props:{nid:{type:[String,Number]},index:{type:Number}},created:function(){this.getNoticeView(),this.getNoticeFiles()},methods:{dateFormatter:function(t){if(t)return U(new Date(t))},getFileSize:function(t){if(t)return xt(t)},showModal:function(t){this.$bvModal.show(t)},getNoticeView:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,M.a.get("/api/notice/getNoticeView",{params:{id:t.nid}});case 4:n=e.sent,t.noticeView=n.data,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](1),Error(e.t0.message);case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()},getNoticeFiles:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/api/files/getFileList",{params:{type:yt,id:t.nid}});case 2:n=e.sent,t.fileList=n.data;case 4:case"end":return e.stop()}}),e)})))()},fileDownload:function(t,e){return Object(j["a"])(regeneratorRuntime.mark((function n(){var a,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,M.a.get("/api/files/download",{params:{id:t},responseType:"blob"});case 2:a=n.sent,i=window.URL.createObjectURL(a.data),r=document.createElement("a"),r.href=i,r.setAttribute("download",e),document.body.appendChild(r),r.click();case 9:case"end":return n.stop()}}),n)})))()},deleteNotice:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,M.a.delete("/api/notice/deleteNotice",{params:{id:t.nid}});case 4:return e.next=6,t.$router.push({name:"NoticeList"});case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](1),Error(e.t0.message);case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()},editNotice:function(){this.$router.push({name:"NoticeModify",params:{id:this.nid}})}}},Pt=Lt,Vt=(n("f114"),Object(f["a"])(Pt,Ct,kt,!1,null,"2b3e8843",null)),Bt=Vt.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navBar"),n("b-container",{staticClass:"content-container"},[n("h1",[t._v("공지 사항")]),n("hr"),n("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),a(t.save)}}},[n("validation-provider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-form-group",{attrs:{label:"제목 : "}},[n("b-form-input",{staticClass:"title-input",attrs:{placeholder:"제목을 입력해 주세요.",state:t.getValidationState(e)},model:{value:t.notice.title,callback:function(e){t.$set(t.notice,"title",e)},expression:"notice.title"}},[t._v(" "+t._s(t.notice.title)+" ")]),n("b-form-invalid-feedback",[t._v(" 제목을 입력해주세요 ")])],1)]}}],null,!0)}),n("b-form-group",{attrs:{label:"내용 : "}},[n("tiptapEditor",{ref:"tiptapEditor",class:t.isContentValid?"tiptap-editor":"tiptap-editor-validation"}),t.isContentValid?t._e():n("span",{staticClass:"content-feedback"},[t._v(" 내용 항목은 필수 정보입니다 ")])],1),n("b-form-group",[n("b-form-file",{attrs:{multiple:""},scopedSlots:t._u([{key:"file-name",fn:function(e){var a=e.names;return[n("b-badge",{attrs:{variant:"dark"}},[t._v(t._s(a[0]))]),a.length>1?n("b-badge",{staticClass:"ml-1",attrs:{variant:"dark"}},[t._v(" + "+t._s(a.length-1)+" More files ")]):t._e()]}}],null,!0),model:{value:t.notice.files,callback:function(e){t.$set(t.notice,"files",e)},expression:"notice.files"}})],1),t.notice.files||t.originFiles?n("b-form-group",{staticClass:"border rounded file-list"},[t._l(t.originFiles,(function(e,a){return n("div",{key:"o-"+a,staticClass:"file-label"},[e.isDelete?t._e():n("div",[t._v(" "+t._s(e.name)+" ("+t._s(t.getFileSize(e.size))+") "),n("b-icon",{attrs:{icon:"x","aria-hidden":"true"},on:{click:function(e){return t.deleteFile(!1,a)}}})],1)])})),t._l(t.notice.files,(function(e,a){return n("div",{key:a,staticClass:"file-label"},[t._v(" "+t._s(e.name)+" ("+t._s(t.getFileSize(e.size))+") "),n("b-icon",{attrs:{icon:"x","aria-hidden":"true"},on:{click:function(e){return t.deleteFile(!0,a)}}})],1)}))],2):t._e(),n("b-row",{attrs:{"align-h":"between"}},[n("b-col",[n("router-link",{attrs:{to:{name:"NoticeList"}}},[n("b-button",{attrs:{variant:"secondary",size:"sm"}},[t._v("목록")])],1)],1),n("b-col",{staticClass:"text-right"},[n("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],attrs:{variant:"info",size:"sm",type:"submit"}},[t._v(" 저장 ")])],1)],1)],1)]}}])})],1),n("b-modal",{attrs:{title:"용량 초과","button-size":"sm","header-text-variant":"white","header-bg-variant":"warning","hide-header-close":"","ok-only":""},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[t._v(" 첨부파일의 최대 용량을 초과했습니다. 최대 용량은 10MB입니다. ")]),t.isLoading?n("spinner"):t._e()],1)},St=[],Nt=(n("c740"),n("d81d"),n("a434"),n("b85c")),Ot="notice",zt=10485760,jt={name:"NoticeWrite",components:{spinner:T,navBar:V,tiptapEditor:dt},props:{nid:{type:[String,Number]}},data:function(){return{isModify:!1,isLoading:!1,isContentValid:!1,isDoubleSubmitChk:!1,notice:{title:void 0,content:void 0,files:void 0},originFiles:[]}},computed:{showModal:{get:function(){if(this.notice.files)return this.notice.files.some((function(t){return t.size>=zt}))},set:function(){var t=this.notice.files.findIndex((function(t){return t.size>=0}));this.notice.files.splice(t,1)}}},mounted:function(){var t=this;this.$watch((function(){if(void 0===t.$refs.tiptapEditor.content)t.isContentValid=!0;else{var e=t.$refs.tiptapEditor.content.replace(/<(\/?)p>|<(\/?)h1>|<(\/?)h2>|<(\/?)h3>|<(\/?)pre>|<(\/?)code>/gi,"");t.isContentValid=0!==e.length}})),this.nid&&(this.isModify=!0,this.setNotice())},methods:{getValidationState:function(t){var e=t.dirty,n=t.validated,a=t.valid,i=void 0===a?null:a;return e||n?i:null},setNotice:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,M.a.get("/api/notice/getNoticeInfo",{params:{id:t.nid}});case 4:return n=e.sent,t.notice=n.data,t.$refs.tiptapEditor.setContent(t.notice.content),t.$refs.tiptapEditor.content=t.notice.content,e.next=10,M.a.get("/api/files/getFileList",{params:{type:Ot,id:t.nid}});case 10:a=e.sent,t.originFiles=a.data.map((function(t){return{fid:t.fid,name:t.fileName,size:t.fileSize,isDelete:!1}})),e.next=17;break;case 14:throw e.prev=14,e.t0=e["catch"](1),new Error(e.t0);case 17:return e.prev=17,t.isLoading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})))()},getParams:function(){var t=new FormData;if(t.append("title",this.notice.title),t.append("content",this.$refs.tiptapEditor.content),this.notice.files){var e,n=Object(Nt["a"])(this.notice.files);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.append("files",a)}}catch(s){n.e(s)}finally{n.f()}}if(this.isModify&&(t.append("nid",this.nid),this.originFiles)){var i,r=Object(Nt["a"])(this.originFiles);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.isDelete&&t.append("delFids",o.fid)}}catch(s){r.e(s)}finally{r.f()}}return t},deleteFile:function(t,e){t?this.notice.files.splice(e,1):this.originFiles[e].isDelete=!0},getFileSize:function(t){if(t)return xt(t)},save:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isContentValid){e.next=6;break}if(void 0!==t.$refs.tiptapEditor.content){e.next=4;break}return t.isContentValid=!1,e.abrupt("return",!1);case 4:e.next=7;break;case 6:return e.abrupt("return",!1);case 7:return t.isLoading=!0,e.prev=8,n=t.isModify?"/api/notice/editNotice":"/api/notice/addNotice",e.next=12,M.a.post(n,t.getParams(),{headers:{"Content-Type":!1}});case 12:return e.next=14,t.$router.push({name:"NoticeList"});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e["catch"](8),new Error(e.t0);case 19:return e.prev=19,t.isLoading=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[8,16,19,22]])})))()}}},Rt=jt,Mt=(n("e93b"),Object(f["a"])(Rt,Et,St,!1,null,"134d0c99",null)),$t=Mt.exports;a["default"].use(w["a"]);var Ft=[{path:"/",name:"Index",component:N},{path:"/notice-list",name:"NoticeList",component:_t},{path:"/notice-view/:nid",name:"NoticeView",component:Bt,props:!0},{path:"/notice-write",name:"NoticeWrite",component:$t},{path:"/notice-modify/:nid",name:"NoticeModify",component:$t,props:!0},{path:"/board/list",name:"BoardList",component:J},{path:"/board/view/:bid",name:"BoardView",component:tt,props:!0},{path:"/board/write",name:"BoardWrite",component:bt,props:!0},{path:"/board/modify/:bid",name:"BoardModify",component:bt,props:!0}],It=new w["a"]({mode:"history",base:"/",routes:Ft}),Dt=It,At=n("2f62");a["default"].use(At["a"]);var Tt=new At["a"].Store({state:{},mutations:{},actions:{},modules:{}});a["default"].config.productionTip=!1,new a["default"]({router:Dt,store:Tt,render:function(t){return t(h)}}).$mount("#app")},"5d8c":function(t,e,n){},"85ec":function(t,e,n){},"8b14":function(t,e,n){"use strict";n("afb3")},"8ea2":function(t,e,n){},"98bc":function(t,e,n){},a364:function(t,e,n){"use strict";n("98bc")},afb3:function(t,e,n){},caf4:function(t,e,n){},dc84:function(t,e,n){"use strict";n("8ea2")},e93b:function(t,e,n){"use strict";n("5d8c")},f114:function(t,e,n){"use strict";n("1553")}});
//# sourceMappingURL=app.9ebea52e.js.map